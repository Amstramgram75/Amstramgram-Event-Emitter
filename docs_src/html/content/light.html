<h2 id="why">Why</h2>
<p class="text">
  Just because simplicity is the ultimate sophistication...<br>
  If you need a basic event emitter system, you are in the right place.<br>
  For 419 bytes once gzipped, you get <em class="orange">on</em>, <em class="orange">off</em> and <em class="orange">emit</em> methods...<br>
  Enjoy !
</p>
<h2 id="play">Let's play !!!</h2>
<div class="demo">
  <div class="game-container">
    <div class="left"></div>
    <div class="top"></div>
    <div class="right"></div>
    <div class="bottom"></div>
    <canvas class="dot" width="480" height="320"></canvas>
  </div>
  <div class="controls-wrapper">
    <div class="controls">
      <img src="assets/img/Sun.png" width="80" height="80">
      <div class="button remove"><span>Remove all<br>listeners</span></div>
      <div class="button auto enabled"><span>AUTO</span></div>
    </div>
    <div class="listeners light">
      <span>Event listeners <span class="italic">(Crtl+Click on one toggles all)</span> :</span>
      <div>
        <h4>Playing&nbsp;:&nbsp;</h4>
        <input type="radio" id="playing" name="playing" value="on">
        <label for="playing" data-value="on">ON</label>&nbsp;&nbsp;|&nbsp;
        <input type="radio" id="playing-off" name="playing" value="off" checked>
        <label for="playing-off" data-value="off">OFF</label>
      </div>
      <div>
        <h4>Left collision&nbsp;:&nbsp;</h4>
        <input type="radio" id="hitleft" name="hitleft" value="on">
        <label for="hitleft" data-value="on">ON</label>&nbsp;&nbsp;|&nbsp;
        <input type="radio" id="hitleft-off" name="hitleft" value="off" checked>
        <label for="hitleft-off" data-value="off">OFF</label>
      </div>
      <div>
        <h4>Top collision&nbsp;:&nbsp;</h4>
        <input type="radio" id="hittop" name="hittop" value="on">
        <label for="hittop"data-value="on">ON</label>&nbsp;&nbsp;|&nbsp;
        <input type="radio" id="hittop-off" name="hittop" value="off" checked>
        <label for="hittop-off" data-value="off">OFF</label>
      </div>
      <div>
        <h4>Right collision&nbsp;:&nbsp;</h4>
        <input type="radio" id="hitright" name="hitright" value="on">
        <label for="hitright" data-value="on">ON</label>&nbsp;&nbsp;|&nbsp;
        <input type="radio" id="hitright-off" name="hitright" value="off" checked>
        <label for="hitright-off" data-value="off">OFF</label>
      </div>
      <div>
        <h4>Bottom collision&nbsp;:&nbsp;</h4>
        <input type="radio" id="hitbottom" name="hitbottom" value="on">
        <label for="hitbottom" data-value="on">ON</label>&nbsp;&nbsp;|&nbsp;
        <input type="radio" id="hitbottom-off" name="hitbottom" value="off" checked>
        <label for="hitbottom-off" data-value="off">OFF</label>
      </div>
      <div>
        <h4>Paddle collision&nbsp;:&nbsp;</h4>
        <input type="radio" id="hitpaddle" name="hitpaddle" value="on">
        <label for="hitpaddle" data-value="on">ON</label>&nbsp;&nbsp;|&nbsp;
        <input type="radio" id="hitpaddle-off" name="hitpaddle" value="off" checked>
        <label for="hitpaddle-off" data-value="off">OFF</label>
      </div>
      <div>
        <h4>Brick collision&nbsp;:&nbsp;</h4>
        <input type="radio" id="hitbrick" name="hitbrick" value="on">
        <label for="hitbrick" data-value="on">ON</label>&nbsp;&nbsp;|&nbsp;
        <input type="radio" id="hitbrick-off" name="hitbrick" value="off" checked>
        <label for="hitbrick-off" data-value="off">OFF</label>
      </div>
    </div>
  </div>
</div>
<h2 id="installation">Installation</h2>
<h3>npm</h3>
<div class="code copy">
  <pre><code class="language-shellsession">npm i -D amstramgram-event-emitter</code></pre>
</div>
<p>
  And then in your javascript :
</p>
<div class="code copy">
  <pre><code class="language-javascript">import EventEmitter from 'Amstramgram-Event-Emitter/Light'</code></pre>
</div>
<h3>Manually</h3>
<p class="text">
  Just <a href="https://downgit.github.io/#/home?url=https://github.com/Amstramgram75/Amstramgram-Event-Emitter/blob/master/src/amstramgramEventEmitterLight.js" target="_blank">download the source</a> and use it in your project.<br>
</p>
<div class="code">
  <pre><code class="language-javascript">import EventEmitter from './src_folder/amstramgramEventEmitterLight'</code></pre>
</div>
<h2 id="usage">Usage</h2>
<h3>Basic</h3> 
<div class="code">
  <pre><code class="language-javascript">//Basic demo
//Instanciation
const emitter = new EventEmitter()

//Same sillyCallback for two events
emitter.on('firstevent secondevent', sillyCallback)

//stupidCallback
emitter.on('firstevent', stupidCallback)

function sillyCallback(e, eventName) {
  console.log(e.text, "My nickname is " + eventName, e.plus ? "." : "and I'm called by a sillyCallback...")
  if (e.plus) console.log(e.plus)
}

function stupidCallback(e, eventName) {
  console.log(e.text, "My nickname is " + eventName, "and I'm called by a stupidCallback...")
}

emitter.emit('firstevent', { text: "Hello, I'm the FirstEvent!!!" })
emitter.emit('secondevent', { text: "Hello, I'm the SecondEvent!!!", plus: "Have a nice day !" })

emitter.off('firstevent')
emitter.emit('firstevent', { text: "Hello, I'm the FirstEvent but you'll never see me !!!" })
</code></pre>
</div>
<p class="text">
  Open your console to see the result...
</p>
<p class="text bold">
  Note that the event name is always passed as last argument to the callback.
</p>
<h3>Normal</h3> 
<p class="text">
    However, if you really need a event emitter, it is probably for use its features in your own class&nbsp;:
</p>
<div class="code">
  <pre><code class="language-javascript">import EventEmitter from 'Amstramgram-Event-Emitter/Light'

class MyFabulousClass extends EventEmitter {
  ...
  constructor() {
    super()
    ...
    setTimeout(() => {
      this.emit('initialization-end')
    }, 1)
  }
  ...
}
...
const myFabulousClass = new MyFabulousClass()
myFabulousClass.on('initialization-end', _ => {
  console.log("I'm ready !")
  myFabulousClass.off('initialization-end')
})
</code></pre>
</div>
<h2 id="api">API</h2>
<h3>constructor</h3>
<div class="code">
  <pre><code class="language-javascript">const emitter = new EventEmitter()
</code></pre>
</div>
<h3>on</h3>
<div class="code">
  <pre><code class="language-javascript">/**
 * @description : register a callback for a list of events
 * @param {string} eventsNames : list of event names separated by a space
 * @param {function} callback : function called each time one event of eventsNames is emitted.
 * @returns this so methods can be chained.
**/
emitter.on(eventsNames, callback)
</code></pre>
</div>
<h3>off</h3>
<div class="code">
  <pre><code class="language-javascript">/**
 * @description : remove a callback for a list of events.
 * @param {string} eventsNames : list of event names separated by a space.
 * @param {function} callback : callback to removed.
 * @returns this so methods can be chained.
**/
emitter.off(eventsNames, callback)
</code></pre>
</div>
<div class="code">
  <pre><code class="language-javascript">/**
 * @description : remove all the registered callbacks for a list of events.
 * @param {string} eventsNames : list of event names separated by a space.
 * @returns this so methods can be chained.
**/
emitter.off(eventsNames)
</code></pre>
</div>
<div class="code">
  <pre><code class="language-javascript">/**
 * @description : remove the callback for all registered events.
 * @param {function} callback : callback to removed.
 * @returns this so methods can be chained.
**/
emitter.off(callback)
</code></pre>
</div>
<div class="code">
  <pre><code class="language-javascript">/**
 * @description : remove all registered events and callbacks.
 * @returns this so methods can be chained.
**/
emitter.off()
</code></pre>
</div>
<h3>emit</h3>
<div class="code">
  <pre><code class="language-javascript">/**
 * @description : emit a given event.
 * @param {String} eventName : event to emit.
 * @param  {...any} args parameters passed to the callbacks.
 * @returns this so methods can be chained.
**/
emitter.emit(eventName, args)
</code></pre>
</div>
<h3>events</h3>
<div class="code">
  <pre><code class="language-javascript">/**
 * @getter {Set} a Set of all registered events.
**/
console.log(emitter.events)

//Output true if 'myevent' is a registered event, false otherwise
console.log(emitter.events.has('myevent'))
</code></pre>
</div>
<h3>eventsAndCallbacks</h3>
<div class="code">
  <pre><code class="language-javascript">/**
 * @getter {Object}
 * Returns an object which contains all the registered events and their callbacks
 * {
 *  eventName01 : set listing the registered callbacks,
 *  ......
 *  eventName0n : set listing the registered callbacks
 * }
**/
console.log(emitter.eventsAndCallbacks)

//Output true if myCallback will be called by 'myevent', false otherwise
console.log(emitter.events.has('myevent') && emitter.eventsAndCallbacks['myevent'].has(myCallback))
</code></pre>
</div>

<div></div>
